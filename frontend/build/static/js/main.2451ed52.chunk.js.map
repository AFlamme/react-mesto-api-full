{"version":3,"sources":["images/header/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/auth.js","images/done.svg","images/fail.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","newPath","path","linkName","className","src","logo","alt","userEmail","to","onClick","onLogout","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","find","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","link","name","console","log","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","style","backgroundImage","map","PopupWithForm","title","isOpen","onClose","children","container","handleSubmit","buttonText","onSubmit","AddPlacePopup","useState","setName","setLink","e","preventDefault","id","placeholder","onChange","target","value","minLength","maxLength","required","Login","email","setEmail","password","setPassword","useEffect","onPathChange","onSignin","Register","onSignup","ProtecedRoute","Component","component","loggedIn","InfoTooltip","statusImage","status","ImagePopup","isOpened","confing","this","_url","url","_headers","headers","res","ok","json","Promise","reject","fetch","method","then","_checkError","avatarUrl","newConfing","body","JSON","stringify","cardId","updateLike","deleteLike","userData","inputsValue","authorization","EditProfilePopup","onUpdateUser","description","setDescription","EditAvatarPopup","onUpdateAvatar","avaRef","useRef","current","reset","ref","defaultValue","BASE_URL","_checkResponse","App","token","setToken","setLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isConfirmPopupOpen","setIsConfirmPopupOpen","setCards","setCurrentUser","setUserEmail","opened","success","isInfoTooltipOpen","setInfoTooltipOpen","currentPath","setCurrentPath","history","useHistory","api","getUserInfo","data","catch","getInitialCards","err","closeAllPopups","handlePathChange","localStorage","getItem","auth","result","Error","push","Provider","removeItem","setItem","alert","ProtectedRoute","changeLikeCardStatus","newCard","state","c","onConfirmPopup","removeCard","filter","patchProfileInfo","patchCard","newAvatar","done","fail","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2451ed52.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/header/logo.svg';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Header (props) {\n  const newPath = props.path === '/' || props.path === '/sign-up' ? '/sign-in' : '/sign-up';\n  const linkName = {'/': 'Выйти', '/sign-up': 'Войти', '/sign-in': 'Регистрация'}\n  const handleLogout = () => {props.onLogout()};\n\nreturn (\n<div className=\"header\">\n<img src={logo} alt=\"логотип\" className=\"header__logo\" />\n{props.path === '/' ? <div className=\"header__menu\">\n  <p className=\"header__link header__link_type_email\">{props.userEmail}</p>\n  <Link className=\"header__link header__link_type_exit\" to={newPath} onClick={handleLogout}>\n    {linkName[props.path]}\n  </Link>\n  </div> :\n    <Link className=\"header__link\" to={newPath}>\n      {linkName[props.path]}\n    </Link>\n  }\n  </div>\n)\n}\n\nexport default Header;\n","const Footer = () => {\n  return (\n    <div className=\"footer\">\n      <p className=\"footer__copyright\">&copy; Mesto Russia 2022</p>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext()\n\nexport default CurrentUserContext;","import CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport { useContext } from \"react\";\n\nconst Card = ({ card, onCardClick, onCardLike, onCardDelete}) => {\n  const currentUser = useContext(CurrentUserContext)\n\n  const handleClick = () => {\n    onCardClick(card)\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card, isLiked)\n    console.log (\"world\")\n  }\n\n  const handleCardDelete = () => {\n    onCardDelete(card)\n  }\n\n  // проверка своей карточки\n  const isOwn = card.owner === currentUser._id;\n  const isLiked = card.likes.find(i => i === currentUser._id)\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n      `card__delete ${isOwn ? 'card__delete_my' : ''}`\n    );\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (\n      `card__like ${isLiked ? 'card__like_active' : ''}`\n    );\n\n\n  return (\n    <li className=\"card\">\n      <button onClick={handleCardDelete}  className={cardDeleteButtonClassName} type=\"button\"  ></button>\n      <img className=\"card__photo\" src={card.link} alt={card.name} onClick={handleClick} />\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__like-cont\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\"></button>\n          <span className=\"card__likes-container\">{card.likes.length} </span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card\n","import { useContext } from \"react\";\nimport Card from \"../components/Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nconst Main = ({ onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete}) => {\n \n  const { name, about, avatar} = useContext(CurrentUserContext)\n\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__image\">\n          <div className=\"profile__avatar\" style={{ backgroundImage: `url(${avatar})` }}>\n            <button onClick={onEditAvatar} type=\"button\" className=\"profile__overlay\"  ></button>\n          </div>\n          <div>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__name\">{name}</h1>\n              <button onClick={onEditProfile} type=\"button\" className=\"profile__edit\">\n              </button>\n            </div>\n            <p className=\"profile__about\">{about}</p>\n          </div>\n        </div>\n        <button onClick={onAddPlace} type=\"button\" className=\"profile__add\"></button>\n      </section>\n\n      <section className=\"cards\">\n        \n         {cards.map((card) => (\n        <Card \n        key={card._id} \n        card={card} \n        onCardClick={onCardClick} \n        onCardLike={onCardLike} \n        onCardDelete={onCardDelete}/>))}\n      \n      </section>\n    </main>\n  )\n}\n\nexport default Main\n","const PopupWithForm = ({\n  name,\n  title,\n  isOpen,\n  onClose,\n  children,\n  container,\n  handleSubmit,\n  buttonText,\n}) => {\n  return (\n    <div\n      className={\n        isOpen\n          ? `popup popup_type_${name} popup_opened`\n          : `popup popup_type_${name}`\n      }>\n      <form onSubmit={handleSubmit} name={name} className={container}>\n        <button\n          type=\"button\"\n          className=\"popup__closed\"\n          onClick={onClose}\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button className=\"popup__button\" type=\"submit\">\n          {buttonText}\n        </button>\n      </form>\n    </div>\n  );\n};\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\"\nimport {useState} from \"react\"\n\nfunction AddPlacePopup ({isOpen, onClose, onAddPlace}) {\n  const [name, setName ] = useState('');\n  const [link, setLink ] = useState('');\n\nconst handleNameChange = (e) => {\n  setName(e.target.value)\n} \n\nconst handlePlaceChange = (e) => {\n  setLink(e.target.value)\n} \n\nconst handleSubmit = (e) => {\n  e.preventDefault()\n  onAddPlace({\n    name,\n    link,\n  })\n  setName('')\n  setLink('')\n}\n\nreturn (\n  <PopupWithForm\n    name=\"add\" title=\"Новое место\" \n    isOpen={isOpen} container=\"popup__container popup__form\" \n    onClose={onClose} handleSubmit={handleSubmit} buttonText='Сохранить'>\n  <input \n    name=\"InputNameCard\" type=\"text\" \n    id=\"input__popup-CardName\" className=\"popup__input\" \n    placeholder=\"Название места\" onChange={handleNameChange}\n    minLength=\"2\" maxLength=\"40\" \n    value={name || ''} required />\n  <span \n    id=\"input__popup-CardName-error\" className=\"popup__error\" />\n  <input \n    type=\"url\" className=\"popup__input\" \n    name=\"InputImgCard\" id=\"input__popup-CardImg\" \n    placeholder=\"ссылка на картинку\" value={link || ''}\n    onChange={handlePlaceChange} required />\n  <span \n    id=\"input__popup-CardImg-error\" className=\"popup__error\" />\n</PopupWithForm>\n)\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction Login(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handlePathChange = (newPath) => {props.onPathChange(newPath)};\n\n  React.useEffect(() => {\n    handlePathChange('/sign-in')\n  },);\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  }\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n  e.preventDefault();\n  props.onSignin(email, password);\n}\n\nreturn (\n  <div>\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <h1 className=\"form__title\">Вход</h1>\n      <input type='email' onChange={handleEmailChange} className=\"form__item\" id='signin-email' placeholder=\"Email\" required ></input>\n      <input type='password' onChange={handlePasswordChange} className=\"form__item\" id='signin-password' placeholder=\"Password\" required></input>\n      <button type='submit' className='form__button' >Войти</button>\n    </form>\n  </div>\n)\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nfunction Register (props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleEmailChange = (e) => {setEmail(e.target.value)};\n  const handlePasswordChange = (e) => {setPassword(e.target.value)};\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onSignup(email, password);\n  }\n\n  const handlePathChange = (newPath) => {props.onPathChange(newPath)};\n\n  React.useEffect(() => {\n    handlePathChange('/sign-up')\n  },);\n\n\n  return (\n    <div>\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <h1 className=\"form__title\">Регистрация</h1>\n      <input type='email' onChange={handleEmailChange}\n      className=\"form__item\" id='signin-email' placeholder=\"Email\"\n      required ></input>\n      <input type='password' onChange={handlePasswordChange}\n      className=\"form__item\" id='signin-password'\n      placeholder=\"Password\" required></input>\n      <button type='submit' className='form__button'>Регистрация</button>\n      <p className=\"form__caption\">Уже зарегистрированы?\n      <Link className=\"form__link\" to=\"/sign-in\">Войти</Link>\n      </p>\n    </form>\n  </div>\n  )\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nfunction ProtecedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtecedRoute;\n","import React from \"react\";\n\nfunction InfoTooltip(props) {\n  return (\n    <div\n      className={props.isOpen ? \"popup popup_opened\" : \"popup\"}\n      id={`popup-${props.name}`}\n      onClick={props.onClose}>\n\n      <div className=\"popup__container\">\n        <img\n          className=\"popup__status-image\"\n          src={props.statusImage}\n          alt={`Картинка регистрации: ${props.status}`}/>\n\n        <p className=\"popup__status-caption\">{props.title}</p>\n        <button\n          className=\"popup__closed\"\n          type=\"button\"\n          onClick={props.onClose}/>\n          \n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","const ImagePopup = ({ card, onClose }) => {\n  return (\n    <div\n      className={\n        card.isOpened\n          ? `popup popup_opacity popup_opened`\n          : `popup popup_opacity`\n      }>\n        \n      <div className=\"popup__content\">\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" src={card.link} alt={card.name} />\n          <figcaption className=\"popup__figcaption\">{card.name}</figcaption>\n        </figure>\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__closed\"\n          id=\"ClosePopupBig\"\n        ></button>\n      </div>\n    </div>\n  );\n};\n\nexport default ImagePopup;\n","class Api {\n  constructor(confing) {\n    this._url = confing.url;\n    this._headers = confing.headers\n  }\n\n  _checkError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  // Список всех карточек\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkError);\n  }\n\n  // Информация пользователя\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkError);\n  }\n\n  // Обновление аватара \n  newAvatar(avatarUrl) {\n    const newConfing = {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatarUrl['avatar']\n      }),\n      \n    }\n    return fetch(`${this._url}/users/me/avatar`, newConfing)\n    .then(this._checkError);\n  }\n\n  // Удаление карточки\n  removeCard(cardId) {\n    const newConfing = {\n      headers: this._headers,\n      method: 'DELETE',\n    }\n    return fetch(`${this._url}/cards/${cardId}`, newConfing)\n    .then(this._checkError);\n  }\n\n  // Лайк и его удаление\n  changeLikeCardStatus(cardId, isLiked) {\n    const updateLike = {\n      headers: this._headers,\n      method: 'PUT', \n    }\n   \n    const deleteLike = {\n      headers: this._headers,\n      method: 'DELETE', \n    }\n    return fetch(`${this._url}/cards/likes/${cardId}`, isLiked ? deleteLike : updateLike)\n    .then(this._checkError);\n  }\n\n  // Отправление информации\n  patchProfileInfo(userData) {\n    const newConfing = {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(userData),\n    }\n    return fetch(`${this._url}/users/me`, newConfing)\n    .then(this._checkError);\n  }\n\n  // Отправление информации о фото и пользователе на сервер\n  patchCard(inputsValue) {\n    const newConfing = {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(inputsValue),\n      \n  }\n  return fetch(`${this._url}/cards`, newConfing)\n  .then(this._checkError);\n}\n}\n\nexport default new Api({\n  url: `https://mesto.nomoreparties.co/v1/cohort-43/`,\n  headers: {\n      authorization: '292cceda-e820-4d58-9be5-30225e20d80b',\n      'Content-Type': 'application/json'\n  }\n});\n","import PopupWithForm from \"./PopupWithForm\"\nimport { useContext, useEffect, useState } from \"react\"\nimport CurrentUserContext from \"../contexts/CurrentUserContext\"\n\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser})  {\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n  const currentUser = useContext(CurrentUserContext)\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen])\n\n  const onChangeName = (e) => {\n    setName(e.target.value)\n  }\n  const onChangeDescription = (e) => {\n    setDescription(e.target.value)\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\nreturn(\n<PopupWithForm\n  name=\"edit\" title=\"Редактировать профиль\"   \n  container=\"popup__container popup__form\" buttonText='Редактировать'\n  handleSubmit = {handleSubmit} isOpen={isOpen} onClose={onClose}>\n\n<input onChange={onChangeName} value={name || ''} \n  type=\"text\" className=\"popup__input\" \n  name=\"input-name\" id=\"input__popup-name\" \n  minLength=\"2\" maxLength=\"40\" \n  placeholder=\"Имя\" required />\n\n<span id=\"input__popup-name-error\" className=\"popup__error\" />\n\n<input onChange={onChangeDescription} value={description || ''} \n  type=\"text\" className=\"popup__input\" \n  name=\"input-about\" id=\"input__popup-about\"\n  minLength=\"2\" maxLength=\"200\" \n  placeholder=\"Вид деятельности\" required />\n\n<span id=\"input__popup-about-error\" className=\"popup__error\" />\n\n</PopupWithForm>\n)\n}\n\nexport default EditProfilePopup\n","import PopupWithForm from \"./PopupWithForm\"\nimport {useRef} from \"react\"\n\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\n\nconst avaRef = useRef();\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  onUpdateAvatar({\n    avatar: avaRef.current.value,\n  })\n  e.target.reset()\n}\n\n  return(\n    <PopupWithForm\n      name=\"refresh\" title=\"Обновить аватар\" \n      isOpen={isOpen} container=\"popup__container popup__form\" \n      buttonText='Сохранить'\n      onClose={onClose} handleSubmit = {handleSubmit}>\n    <input \n      type=\"url\" className=\"popup__input\" \n      name=\"avatar\" id=\"input__popup-avatar\" \n      placeholder=\"Ссылка на аватар\" required \n      ref={avaRef} defaultValue='' />\n    <span \n      id=\"input__popup-avatar-error\" className=\"popup__error\" />\n  </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction _checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\nreturn Promise.reject(`Ошибка ${res.status}`);\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify({ password, email })\n  })\n  .then(res => _checkResponse(res))\n}\n\nexport const authorization = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify({ password, email })\n  })\n  .then(res => _checkResponse(res))\n}\n\nexport const tokenCheck = (token) => { \n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\"Content-Type\": \"application/json\",\n          \"Authorization\" : `Bearer ${token}`}\n  })\n  .then(res => _checkResponse(res))\n}","export default __webpack_public_path__ + \"static/media/done.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\n\nimport api from \"../utils/api\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"../components/EditProfilePopup\";\nimport EditAvatarPopup from \"../components/EditAvatarPopup\";\n\nimport * as auth from \"../utils/auth\";\nimport done from \"../images/done.svg\";\nimport fail from \"../images/fail.svg\";\n\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [token, setToken] = React.useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ isOpened: false });\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [userEmail, setUserEmail] = useState('');\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState({ opened: false, success: false });\n  const [currentPath, setCurrentPath] = useState('/')\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn === true) {\n    api.getUserInfo()\n    .then(data => {\n      setCurrentUser(data)\n    })\n    .catch(e => console.log(e))}\n  }, [loggedIn])\n\n  useEffect(() => {\n    if (loggedIn === true) {\n    api.getInitialCards()\n    .then(data => {\n      setCards(data)\n    })\n    .catch(err => console.log(err))}\n  }, [loggedIn])\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.find(i => i === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, isLiked, token).then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(err => console.log(err));\n}\n\n\n    // удаление карточки\n    const handleCardDelete = (card) => {\n    api.removeCard(card._id, token)\n    .then(() => {\n      setCards(state => state.filter(c => c._id !== card._id))\n   })\n   .catch(err => console.log(err));\n  }\n\n  //обработчик картинки\n  const handleCardClick = ({ link, name, isOpened }) => {\n    setSelectedCard({ link, name, isOpened: !isOpened })\n  }\n\n\n  // обработчики попапов (open/close)\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen)\n  }\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen)\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen)\n  }\n  const handleConfirmPopupClick = () => {\n    setIsConfirmPopupOpen(!isConfirmPopupOpen)\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectedCard({ isOpened: false })\n    setIsConfirmPopupOpen(false)\n    setInfoTooltipOpen({ opened: false, success: false})\n  }\n\n  // обработчик информации о пользователе\n  const handleUpdateUser = (userData) => {\n    api.patchProfileInfo(userData, token)\n    .then((data) => {\n      setCurrentUser(data)\n      closeAllPopups()\n    })\n    .catch(err => console.log(err));\n  }\n\n  // обновление аватара\n  const handleUpdateAvatar = (newAvatar) => {\n    api.newAvatar(newAvatar, token)\n    .then((data) => {\n      setCurrentUser(data)\n      closeAllPopups()\n    })\n    .catch(err => console.log(err));\n  }\n\n// добавление карточки\n  const handleAddPlace = (data) => {\n    api.patchCard(data, token)\n    .then(newCard => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch(err => console.log(err));\n  }\n const handlePathChange = (newPath) => {\n  setCurrentPath(newPath);\n }\n\n\n  // проверка токена\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    auth.tokenCheck(token)\n    .then(result => {\n      if (result) {\n        setUserEmail(result.email);\n        setToken(token);\n        setLoggedIn(true);\n        history.push('/');\n        setCurrentPath('/');\n      } else {\n        throw new Error ('Ошибка текущего сеанса. Необходимо заново авторизироваться')\n      }\n    })\n    .catch (err => {\n      console.log(`Ошибка входа по токену ${err}`);\n      history.push('/sign-in');\n    })\n  }, [])\n\n\n  // обработчик завершения\n const handleLogout = () => {\n   localStorage.removeItem('token');\n   setToken('');\n   setUserEmail('');\n   setLoggedIn(false);\n   history.push('/sign-in');\n   setCurrentPath('/sign-in');\n }\n\n  //обработчик регистрации\n  const handleSignupSubmit = (email, password) => {\n    auth.register (email, password)\n    .then(result => {\n      if (result) {\n        console.log(result)\n        setUserEmail(result.email);\n        setInfoTooltipOpen({ opened: true, success: true })\n        history.push('/sign-in');\n        setCurrentPath('/sign-in');\n      }\n      else {\n        throw new Error('Не удалось пройти регистрацию');\n      }\n    })\n    .catch( err => {\n    console.log(`Ошибка регистрацииЖ ${err}`);\n    setInfoTooltipOpen({ opened: true, success: false })\n  })\n}\n\n  //обработчик авторизации\n  const handleSigninSubmit = (email, password) => {\n    auth.authorization (email, password)\n    .then(data => {\n      console.log(data)\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        setToken(data.token);\n        setUserEmail(email);\n        setLoggedIn(true);\n        history.push('/');\n        setCurrentPath('/');\n      }\n      else {\n        throw new Error('Не удалось получить токен от сервера');\n      }\n    })\n    .catch( err => {\n      console.log(alert(`Ошибка авторизацииЖ ${err}. Проверьте корректность данных`))\n  })\n  }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"body\">\n      <div className=\"page\">\n        <Header\n        userEmail={userEmail}\n        onLogout={handleLogout}\n        path={currentPath} />\n\n        <Switch>\n        <Route path='/sign-in'>\n          <Login onSignin={handleSigninSubmit} onPathChange={handlePathChange}/>\n        </Route>\n        <Route path='/sign-up'>\n          <Register onSignup={handleSignupSubmit} onPathChange={handlePathChange} />\n        </Route>\n        <ProtectedRoute path='/'\n          loggedIn={loggedIn}\n          component={Main}\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          cards={cards}\n          onConfirmPopup={handleConfirmPopupClick}\n          onCardDelete={handleCardDelete}\n          onAddPlace={handleAddPlaceClick}\n\n        />\n\n        </Switch>\n        <Footer />\n      </div>\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n\n      <AddPlacePopup isOpen={isAddPlacePopupOpen}  onClose={closeAllPopups} onAddPlace={handleAddPlace} > </AddPlacePopup>\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} > </EditAvatarPopup>\n\n      <PopupWithForm\n        name=\"sure\" title=\"Вы уверены?\" isOpen={isConfirmPopupOpen} container=\"popup__container popup__form\" onClose={closeAllPopups} >\n\n      </PopupWithForm>\n\n\n      <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen.opened}\n        onClose={closeAllPopups}\n        statusImage={isInfoTooltipOpen.success ? done : fail}\n        title={isInfoTooltipOpen.success ? 'Вы успешно зарегистрировались!':'Что-то пошло не так! Попробуйте ещё раз'} />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}